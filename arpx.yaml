jobs:
  recursive: (recursive1;)
  inorder: |
      loop1 ? loop2;
      loop2;
      loop3;
  concurrent: |
      [
        loop1 ? loop2;
        loop3 ? loop4;
      ]
  concurrentAndThenInorder: |
      [
        loop1 ? loop2 : loop1;
        (loop2 ? loop3;)
        loop3;
      ]
      loop1;
      loop2;
      loop3;

processes:
  recursive1:
    cwd: /Users/jaredgorski
    command: |
      for i in {1..5}
      do
        sleep 1
        echo "Recursive1 $i"
      done
    onsucceed: recursive2
  recursive2:
    cwd: /Users/jaredgorski
    command: |
      for i in {1..5}
      do
        sleep 1
        echo "Recursive2 $i"
      done
    onsucceed: recursive1
  loop1:
    cwd: /Users/jaredgorski
    command: |
      for i in {1..5}
      do
        sleep 1
        echo "Loop1 $i"
      done
  loop2:
    cwd: /Users/jaredgorski
    command: |
      for i in {1..3}
      do
        sleep 1
        echo "Loop2 $i"
      done
      exit
  loop3:
    cwd: /Users/jaredgorski
    command: |
      for i in {1..5}
      do
        sleep 1
        echo "Loop3 $i"
      done
  loop4:
    cwd: /Users/jaredgorski
    command: |
      for i in {1..5}
      do
        sleep 1
        echo "Loop4 $i"
      done
